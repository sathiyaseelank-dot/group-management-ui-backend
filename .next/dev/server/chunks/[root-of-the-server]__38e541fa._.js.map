{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/inkyank-01/Downloads/group-management-ui/lib/db.ts"],"sourcesContent":["import Database from 'better-sqlite3';\nimport path from 'path';\n\nconst DB_PATH = path.join(process.cwd(), 'ztna.db');\n\nlet dbInstance: Database.Database | null = null;\n\nfunction initSchema(db: Database.Database) {\n  db.exec(`\n    PRAGMA foreign_keys = ON;\n    PRAGMA journal_mode = WAL;\n\n    CREATE TABLE IF NOT EXISTS meta (\n      key TEXT PRIMARY KEY,\n      value TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS users (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      email TEXT NOT NULL,\n      status TEXT NOT NULL,\n      created_at TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS groups (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      description TEXT NOT NULL,\n      created_at TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS group_members (\n      group_id TEXT NOT NULL,\n      user_id TEXT NOT NULL,\n      PRIMARY KEY (group_id, user_id),\n      FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE,\n      FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE IF NOT EXISTS service_accounts (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      status TEXT NOT NULL,\n      associated_resource_count INTEGER NOT NULL DEFAULT 0,\n      created_at TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS remote_networks (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      location TEXT NOT NULL,\n      created_at TEXT NOT NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS connectors (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      status TEXT NOT NULL,\n      version TEXT NOT NULL,\n      hostname TEXT NOT NULL,\n      remote_network_id TEXT NOT NULL,\n      last_seen TEXT NOT NULL,\n      installed INTEGER NOT NULL DEFAULT 0,\n      FOREIGN KEY (remote_network_id) REFERENCES remote_networks(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE IF NOT EXISTS tunnelers (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      status TEXT NOT NULL,\n      version TEXT NOT NULL,\n      hostname TEXT NOT NULL,\n      remote_network_id TEXT NOT NULL,\n      FOREIGN KEY (remote_network_id) REFERENCES remote_networks(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE IF NOT EXISTS resources (\n      id TEXT PRIMARY KEY,\n      name TEXT NOT NULL,\n      type TEXT NOT NULL,\n      address TEXT NOT NULL,\n      ports TEXT NOT NULL,\n      alias TEXT,\n      description TEXT NOT NULL,\n      remote_network_id TEXT,\n      FOREIGN KEY (remote_network_id) REFERENCES remote_networks(id) ON DELETE SET NULL\n    );\n\n    CREATE TABLE IF NOT EXISTS access_rules (\n      id TEXT PRIMARY KEY,\n      resource_id TEXT NOT NULL,\n      subject_id TEXT NOT NULL,\n      subject_type TEXT NOT NULL,\n      subject_name TEXT NOT NULL,\n      effect TEXT NOT NULL,\n      created_at TEXT NOT NULL,\n      FOREIGN KEY (resource_id) REFERENCES resources(id) ON DELETE CASCADE\n    );\n\n    CREATE TABLE IF NOT EXISTS connector_logs (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      connector_id TEXT NOT NULL,\n      timestamp TEXT NOT NULL,\n      message TEXT NOT NULL,\n      FOREIGN KEY (connector_id) REFERENCES connectors(id) ON DELETE CASCADE\n    );\n  `);\n}\n\nfunction ensureConnectorInstalledColumn(db: Database.Database) {\n  const columns = db.prepare('PRAGMA table_info(connectors)').all() as { name: string }[];\n  const hasInstalled = columns.some((col) => col.name === 'installed');\n  if (!hasInstalled) {\n    db.exec(`ALTER TABLE connectors ADD COLUMN installed INTEGER NOT NULL DEFAULT 0`);\n    db.exec(`UPDATE connectors SET installed = 1`);\n  }\n}\n\nfunction seedIfNeeded(db: Database.Database) {\n  const seeded = db\n    .prepare('SELECT value FROM meta WHERE key = ?')\n    .get('seeded') as { value?: string } | undefined;\n\n  if (seeded?.value === '1') return;\n\n  const insertMeta = db.prepare(\n    'INSERT INTO meta (key, value) VALUES (?, ?) ON CONFLICT(key) DO UPDATE SET value = excluded.value'\n  );\n\n  const insertUser = db.prepare(\n    'INSERT INTO users (id, name, email, status, created_at) VALUES (?, ?, ?, ?, ?)'\n  );\n  const insertGroup = db.prepare(\n    'INSERT INTO groups (id, name, description, created_at) VALUES (?, ?, ?, ?)'\n  );\n  const insertGroupMember = db.prepare(\n    'INSERT INTO group_members (group_id, user_id) VALUES (?, ?)'\n  );\n  const insertServiceAccount = db.prepare(\n    'INSERT INTO service_accounts (id, name, status, associated_resource_count, created_at) VALUES (?, ?, ?, ?, ?)'\n  );\n  const insertRemoteNetwork = db.prepare(\n    'INSERT INTO remote_networks (id, name, location, created_at) VALUES (?, ?, ?, ?)'\n  );\n  const insertConnector = db.prepare(\n    'INSERT INTO connectors (id, name, status, version, hostname, remote_network_id, last_seen, installed) VALUES (?, ?, ?, ?, ?, ?, ?, ?)'\n  );\n  const insertTunneler = db.prepare(\n    'INSERT INTO tunnelers (id, name, status, version, hostname, remote_network_id) VALUES (?, ?, ?, ?, ?, ?)'\n  );\n  const insertResource = db.prepare(\n    'INSERT INTO resources (id, name, type, address, ports, alias, description, remote_network_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?)'\n  );\n  const insertAccessRule = db.prepare(\n    'INSERT INTO access_rules (id, resource_id, subject_id, subject_type, subject_name, effect, created_at) VALUES (?, ?, ?, ?, ?, ?, ?)'\n  );\n  const insertConnectorLog = db.prepare(\n    'INSERT INTO connector_logs (connector_id, timestamp, message) VALUES (?, ?, ?)'\n  );\n\n  const seedTransaction = db.transaction(() => {\n    // Remote Networks\n    insertRemoteNetwork.run('net_1', 'Production AWS', 'AWS', '2026-01-05');\n    insertRemoteNetwork.run('net_2', 'Office LAN', 'ON_PREM', '2026-01-08');\n    insertRemoteNetwork.run('net_3', 'Staging GCP', 'GCP', '2026-01-15');\n\n    // Connectors\n    insertConnector.run(\n      'con_1',\n      'AWS-Prod-Connector-1',\n      'online',\n      '1.2.0',\n      'ip-172-31-0-1.ec2.internal',\n      'net_1',\n      '2026-02-20T10:30:00Z',\n      1\n    );\n    insertConnector.run(\n      'con_2',\n      'AWS-Prod-Connector-2',\n      'online',\n      '1.2.0',\n      'ip-172-31-0-2.ec2.internal',\n      'net_1',\n      '2026-02-20T10:25:00Z',\n      1\n    );\n    insertConnector.run(\n      'con_3',\n      'Office-Connector-1',\n      'online',\n      '1.1.5',\n      'office-server.local',\n      'net_2',\n      '2026-02-20T10:15:00Z',\n      1\n    );\n    insertConnector.run(\n      'con_4',\n      'GCP-Staging-Connector-1',\n      'online',\n      '1.2.0',\n      'gcp-staging-vm-1',\n      'net_3',\n      '2026-02-20T10:05:00Z',\n      1\n    );\n    insertConnector.run(\n      'con_5',\n      'GCP-Staging-Connector-2',\n      'offline',\n      '1.2.0',\n      'gcp-staging-vm-2',\n      'net_3',\n      '2026-02-19T14:00:00Z',\n      1\n    );\n\n    // Tunnelers\n    insertTunneler.run(\n      'tun_1',\n      'AWS-Prod-Tunneler-1',\n      'online',\n      '1.0.0',\n      'tun-172-31-0-10.ec2.internal',\n      'net_1'\n    );\n    insertTunneler.run(\n      'tun_2',\n      'AWS-Prod-Tunneler-2',\n      'offline',\n      '1.0.0',\n      'tun-172-31-0-11.ec2.internal',\n      'net_1'\n    );\n    insertTunneler.run(\n      'tun_3',\n      'Office-Tunneler-1',\n      'online',\n      '1.0.1',\n      'tun-office-server.local',\n      'net_2'\n    );\n\n    // Users\n    insertUser.run('usr_1', 'Alice Johnson', 'alice@company.com', 'active', '2026-01-10');\n    insertUser.run('usr_2', 'Bob Smith', 'bob@company.com', 'active', '2026-01-12');\n    insertUser.run('usr_3', 'Charlie Davis', 'charlie@company.com', 'active', '2026-01-15');\n    insertUser.run('usr_4', 'Diana Wilson', 'diana@company.com', 'inactive', '2026-02-01');\n\n    // Groups\n    insertGroup.run('grp_1', 'Engineering', 'Engineering team with database and API access', '2026-01-15');\n    insertGroup.run('grp_2', 'Marketing', 'Marketing department', '2026-01-20');\n    insertGroup.run('grp_3', 'Admin', 'System administrators', '2026-01-25');\n\n    // Group Members\n    insertGroupMember.run('grp_1', 'usr_1');\n    insertGroupMember.run('grp_1', 'usr_3');\n    insertGroupMember.run('grp_2', 'usr_2');\n    insertGroupMember.run('grp_3', 'usr_1');\n\n    // Service Accounts\n    insertServiceAccount.run('svc_1', 'CI/CD Pipeline', 'active', 2, '2026-01-01');\n    insertServiceAccount.run('svc_2', 'Analytics Sync', 'active', 1, '2026-01-10');\n\n    // Resources\n    insertResource.run(\n      'res_1',\n      'Database Server',\n      'STANDARD',\n      'db.internal.company.com:5432',\n      '5432',\n      null,\n      'Production PostgreSQL database for main application',\n      'net_1'\n    );\n    insertResource.run(\n      'res_2',\n      'API Gateway',\n      'BROWSER',\n      'api.company.com',\n      '443',\n      null,\n      'Main API endpoint for frontend applications',\n      'net_1'\n    );\n    insertResource.run(\n      'res_3',\n      'S3 Bucket',\n      'BACKGROUND',\n      'company-assets.s3.amazonaws.com',\n      '443',\n      null,\n      'Asset storage bucket',\n      'net_1'\n    );\n    insertResource.run(\n      'res_4',\n      'Internal Wiki',\n      'BROWSER',\n      'wiki.internal.company.com',\n      '80,443',\n      null,\n      'Internal Confluence Wiki',\n      'net_2'\n    );\n\n    // Access Rules\n    insertAccessRule.run('rule_1', 'res_1', 'grp_1', 'GROUP', 'Engineering', 'ALLOW', '2026-01-20');\n    insertAccessRule.run('rule_2', 'res_2', 'grp_1', 'GROUP', 'Engineering', 'ALLOW', '2026-01-20');\n    insertAccessRule.run('rule_3', 'res_3', 'svc_1', 'SERVICE', 'CI/CD Pipeline', 'ALLOW', '2026-01-21');\n    insertAccessRule.run('rule_4', 'res_2', 'svc_2', 'SERVICE', 'Analytics Sync', 'ALLOW', '2026-01-22');\n\n    // Connector Logs\n    insertConnectorLog.run('con_1', '2026-02-20 10:00:00', 'Connector service started');\n    insertConnectorLog.run('con_1', '2026-02-20 10:00:05', 'Successfully connected to the Twingate network');\n    insertConnectorLog.run('con_1', '2026-02-20 10:02:10', 'Authenticated with controller');\n\n    insertMeta.run('seeded', '1');\n  });\n\n  seedTransaction();\n}\n\nexport function getDb() {\n  if (!dbInstance) {\n    dbInstance = new Database(DB_PATH);\n    initSchema(dbInstance);\n    ensureConnectorInstalledColumn(dbInstance);\n    seedIfNeeded(dbInstance);\n  }\n  return dbInstance;\n}\n\nexport { DB_PATH };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/inkyank-01/Downloads/group-management-ui/lib/data.ts"],"sourcesContent":["import { getDb } from './db';\nimport {\n  AccessRule,\n  Connector,\n  Group,\n  GroupMember,\n  RemoteNetwork,\n  Resource,\n  ResourceType,\n  ServiceAccount,\n  Subject,\n  SubjectType,\n  Tunneler,\n  User,\n  SelectedSubject,\n} from './types';\n\nexport interface ConnectorLog {\n  id: number;\n  timestamp: string;\n  message: string;\n}\n\nfunction mapUser(row: any): User {\n  return {\n    id: row.id,\n    name: row.name,\n    type: 'USER',\n    displayLabel: `User: ${row.name}`,\n    email: row.email,\n    status: row.status,\n    groups: [],\n    createdAt: row.created_at,\n  };\n}\n\nfunction mapGroup(row: any, memberCount: number, resourceCount: number): Group {\n  return {\n    id: row.id,\n    name: row.name,\n    type: 'GROUP',\n    displayLabel: `Group: ${row.name}`,\n    description: row.description,\n    memberCount,\n    resourceCount,\n    createdAt: row.created_at,\n  };\n}\n\nfunction mapServiceAccount(row: any): ServiceAccount {\n  return {\n    id: row.id,\n    name: row.name,\n    type: 'SERVICE',\n    displayLabel: `Service: ${row.name}`,\n    status: row.status,\n    associatedResourceCount: row.associated_resource_count,\n    createdAt: row.created_at,\n  };\n}\n\nfunction mapResource(row: any): Resource {\n  return {\n    id: row.id,\n    name: row.name,\n    type: row.type as ResourceType,\n    address: row.address,\n    ports: row.ports,\n    alias: row.alias ?? undefined,\n    description: row.description,\n    remoteNetworkId: row.remote_network_id ?? undefined,\n  };\n}\n\nfunction mapConnector(row: any): Connector {\n  return {\n    id: row.id,\n    name: row.name,\n    status: row.status,\n    version: row.version,\n    hostname: row.hostname,\n    remoteNetworkId: row.remote_network_id,\n    lastSeen: row.last_seen,\n    installed: !!row.installed,\n  };\n}\n\nfunction mapRemoteNetwork(row: any): RemoteNetwork {\n  return {\n    id: row.id,\n    name: row.name,\n    location: row.location,\n    connectorCount: row.connector_count,\n    onlineConnectorCount: row.online_connector_count,\n    resourceCount: row.resource_count,\n    createdAt: row.created_at,\n  } as RemoteNetwork;\n}\n\nfunction mapAccessRule(row: any): AccessRule {\n  return {\n    id: row.id,\n    resourceId: row.resource_id,\n    subjectId: row.subject_id,\n    subjectType: row.subject_type as SubjectType,\n    subjectName: row.subject_name,\n    effect: row.effect,\n    createdAt: row.created_at,\n  };\n}\n\nexport function listRemoteNetworks(): RemoteNetwork[] {\n  const db = getDb();\n  const rows = db\n    .prepare(\n      `\n      SELECT n.*,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id) AS connector_count,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id AND c.status = 'online') AS online_connector_count,\n        (SELECT COUNT(*) FROM resources r WHERE r.remote_network_id = n.id) AS resource_count\n      FROM remote_networks n\n      ORDER BY n.created_at ASC\n      `\n    )\n    .all();\n  return rows.map(mapRemoteNetwork);\n}\n\nexport function addRemoteNetwork(data: { name: string; location: string }): void {\n  const db = getDb();\n  db.prepare('INSERT INTO remote_networks (id, name, location, created_at) VALUES (?, ?, ?, ?)')\n    .run(`net_${Date.now()}`, data.name, data.location, new Date().toISOString().split('T')[0]);\n}\n\nexport function getRemoteNetworkDetail(networkId: string): {\n  network: RemoteNetwork | undefined;\n  connectors: Connector[];\n  resources: Resource[];\n} {\n  const db = getDb();\n  const networkRow = db\n    .prepare(\n      `\n      SELECT n.*,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id) AS connector_count,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id AND c.status = 'online') AS online_connector_count,\n        (SELECT COUNT(*) FROM resources r WHERE r.remote_network_id = n.id) AS resource_count\n      FROM remote_networks n\n      WHERE n.id = ?\n      `\n    )\n    .get(networkId);\n\n  const connectorRows = db\n    .prepare('SELECT * FROM connectors WHERE remote_network_id = ? ORDER BY name ASC')\n    .all(networkId);\n\n  const resourceRows = db\n    .prepare('SELECT * FROM resources WHERE remote_network_id = ? ORDER BY name ASC')\n    .all(networkId);\n\n  return {\n    network: networkRow ? mapRemoteNetwork(networkRow) : undefined,\n    connectors: connectorRows.map(mapConnector),\n    resources: resourceRows.map(mapResource),\n  };\n}\n\nexport function listConnectors(): Connector[] {\n  const db = getDb();\n  const rows = db.prepare('SELECT * FROM connectors ORDER BY name ASC').all();\n  return rows.map(mapConnector);\n}\n\nexport function getConnectorDetail(connectorId: string): {\n  connector: Connector | null;\n  network: RemoteNetwork | undefined;\n  logs: ConnectorLog[];\n} {\n  const db = getDb();\n  const connectorRow = db.prepare('SELECT * FROM connectors WHERE id = ?').get(connectorId);\n  if (!connectorRow) {\n    return { connector: null, network: undefined, logs: [] };\n  }\n\n  const networkRow = db\n    .prepare(\n      `\n      SELECT n.*,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id) AS connector_count,\n        (SELECT COUNT(*) FROM connectors c WHERE c.remote_network_id = n.id AND c.status = 'online') AS online_connector_count,\n        (SELECT COUNT(*) FROM resources r WHERE r.remote_network_id = n.id) AS resource_count\n      FROM remote_networks n\n      WHERE n.id = ?\n      `\n    )\n    .get(connectorRow.remote_network_id);\n\n  const logs = db\n    .prepare('SELECT id, timestamp, message FROM connector_logs WHERE connector_id = ? ORDER BY id ASC')\n    .all(connectorId) as ConnectorLog[];\n\n  return {\n    connector: mapConnector(connectorRow),\n    network: networkRow ? mapRemoteNetwork(networkRow) : undefined,\n    logs,\n  };\n}\n\nexport function addConnector(data: { name: string; remoteNetworkId: string }): void {\n  const db = getDb();\n  const id = `con_${Date.now()}`;\n  const hostname = `${data.name.toLowerCase().replace(/\\s/g, '-')}.local`;\n  db.prepare(\n    `INSERT INTO connectors (id, name, status, version, hostname, remote_network_id, last_seen, installed)\n     VALUES (?, ?, 'offline', '1.0.0', ?, ?, ?, 0)`\n  ).run(id, data.name, hostname, data.remoteNetworkId, new Date().toISOString());\n}\n\nexport function simulateConnectorHeartbeat(connectorId: string): void {\n  const db = getDb();\n  db.prepare('UPDATE connectors SET status = ?, last_seen = ?, installed = 1 WHERE id = ?')\n    .run('online', new Date().toISOString(), connectorId);\n}\n\nexport function listTunnelers(): Tunneler[] {\n  const db = getDb();\n  const rows = db.prepare('SELECT * FROM tunnelers ORDER BY name ASC').all();\n  return rows.map((row) => ({\n    id: row.id,\n    name: row.name,\n    status: row.status,\n    version: row.version,\n    hostname: row.hostname,\n    remoteNetworkId: row.remote_network_id,\n  } as Tunneler));\n}\n\nexport function listUsers(): User[] {\n  const db = getDb();\n  const userRows = db.prepare('SELECT * FROM users ORDER BY name ASC').all();\n  const userGroups = db.prepare('SELECT group_id FROM group_members WHERE user_id = ?');\n  return userRows.map((row: any) => {\n    const groups = userGroups.all(row.id).map((g: any) => g.group_id);\n    return { ...mapUser(row), groups };\n  });\n}\n\nexport function listServiceAccounts(): ServiceAccount[] {\n  const db = getDb();\n  const rows = db.prepare('SELECT * FROM service_accounts ORDER BY name ASC').all();\n  return rows.map(mapServiceAccount);\n}\n\nexport function listGroups(): Group[] {\n  const db = getDb();\n  const rows = db.prepare('SELECT * FROM groups ORDER BY name ASC').all();\n  const memberCountStmt = db.prepare('SELECT COUNT(*) as count FROM group_members WHERE group_id = ?');\n  const resourceCountStmt = db.prepare(\n    \"SELECT COUNT(*) as count FROM access_rules WHERE subject_type = 'GROUP' AND subject_id = ?\"\n  );\n  return rows.map((row: any) => {\n    const memberCount = memberCountStmt.get(row.id).count as number;\n    const resourceCount = resourceCountStmt.get(row.id).count as number;\n    return mapGroup(row, memberCount, resourceCount);\n  });\n}\n\nexport function getGroupDetail(groupId: string): {\n  group: Group | undefined;\n  members: GroupMember[];\n  resources: Resource[];\n} {\n  const db = getDb();\n  const groupRow = db.prepare('SELECT * FROM groups WHERE id = ?').get(groupId);\n  if (!groupRow) {\n    return { group: undefined, members: [], resources: [] };\n  }\n\n  const memberRows = db.prepare(\n    `\n    SELECT u.id as userId, u.name as userName, u.email as email\n    FROM group_members gm\n    JOIN users u ON u.id = gm.user_id\n    WHERE gm.group_id = ?\n    ORDER BY u.name ASC\n    `\n  ).all(groupId) as GroupMember[];\n\n  const resourceRows = db.prepare(\n    `\n    SELECT r.*\n    FROM access_rules ar\n    JOIN resources r ON r.id = ar.resource_id\n    WHERE ar.subject_type = 'GROUP' AND ar.subject_id = ?\n    GROUP BY r.id\n    ORDER BY r.name ASC\n    `\n  ).all(groupId);\n\n  const memberCount = memberRows.length;\n  const resourceCount = resourceRows.length;\n\n  return {\n    group: mapGroup(groupRow, memberCount, resourceCount),\n    members: memberRows,\n    resources: resourceRows.map(mapResource),\n  };\n}\n\nexport function addGroup(data: { name: string; description: string }): void {\n  const db = getDb();\n  db.prepare('INSERT INTO groups (id, name, description, created_at) VALUES (?, ?, ?, ?)')\n    .run(`grp_${Date.now()}`, data.name, data.description, new Date().toISOString().split('T')[0]);\n}\n\nexport function updateGroupMembers(groupId: string, memberIds: string[]): void {\n  const db = getDb();\n  const deleteStmt = db.prepare('DELETE FROM group_members WHERE group_id = ?');\n  const insertStmt = db.prepare('INSERT INTO group_members (group_id, user_id) VALUES (?, ?)');\n  const tx = db.transaction(() => {\n    deleteStmt.run(groupId);\n    memberIds.forEach((id) => insertStmt.run(groupId, id));\n  });\n  tx();\n}\n\nexport function removeGroupMember(groupId: string, userId: string): void {\n  const db = getDb();\n  db.prepare('DELETE FROM group_members WHERE group_id = ? AND user_id = ?').run(groupId, userId);\n}\n\nexport function addGroupResources(groupId: string, resourceIds: string[]): void {\n  const db = getDb();\n  const existingStmt = db.prepare(\n    \"SELECT id FROM access_rules WHERE subject_type = 'GROUP' AND subject_id = ? AND resource_id = ?\"\n  );\n  const insertStmt = db.prepare(\n    `INSERT INTO access_rules (id, resource_id, subject_id, subject_type, subject_name, effect, created_at)\n     VALUES (?, ?, ?, 'GROUP', ?, 'ALLOW', ?)`\n  );\n\n  const groupNameRow = db.prepare('SELECT name FROM groups WHERE id = ?').get(groupId);\n  const groupName = groupNameRow?.name ?? 'Unknown Group';\n\n  const tx = db.transaction(() => {\n    resourceIds.forEach((resourceId) => {\n      const existing = existingStmt.get(groupId, resourceId);\n      if (!existing) {\n        insertStmt.run(\n          `rule_${Date.now()}_${groupId}_${resourceId}`,\n          resourceId,\n          groupId,\n          groupName,\n          new Date().toISOString().split('T')[0]\n        );\n      }\n    });\n  });\n  tx();\n}\n\nexport function listResources(): Resource[] {\n  const db = getDb();\n  const rows = db.prepare('SELECT * FROM resources ORDER BY name ASC').all();\n  return rows.map(mapResource);\n}\n\nexport function getResourceDetail(resourceId: string): { resource: Resource | undefined; accessRules: AccessRule[] } {\n  const db = getDb();\n  const resourceRow = db.prepare('SELECT * FROM resources WHERE id = ?').get(resourceId);\n  const accessRuleRows = db\n    .prepare('SELECT * FROM access_rules WHERE resource_id = ? ORDER BY created_at ASC')\n    .all(resourceId);\n  return {\n    resource: resourceRow ? mapResource(resourceRow) : undefined,\n    accessRules: accessRuleRows.map(mapAccessRule),\n  };\n}\n\nexport function addResource(data: {\n  network_id: string;\n  name: string;\n  type: ResourceType;\n  address: string;\n  ports: string;\n  alias?: string;\n}): void {\n  const db = getDb();\n  db.prepare(\n    `INSERT INTO resources (id, name, type, address, ports, alias, description, remote_network_id)\n     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`\n  ).run(\n    `res_${Date.now()}`,\n    data.name,\n    data.type,\n    data.address,\n    data.ports,\n    data.alias ?? null,\n    `A new ${data.type.toLowerCase()} resource`,\n    data.network_id\n  );\n}\n\nexport function updateResource(resourceId: string, data: {\n  network_id: string;\n  name: string;\n  type: ResourceType;\n  address: string;\n  ports: string;\n  alias?: string;\n}): void {\n  const db = getDb();\n  db.prepare(\n    `UPDATE resources\n     SET name = ?, type = ?, address = ?, ports = ?, alias = ?, remote_network_id = ?\n     WHERE id = ?`\n  ).run(\n    data.name,\n    data.type,\n    data.address,\n    data.ports,\n    data.alias ?? null,\n    data.network_id,\n    resourceId\n  );\n}\n\nfunction resolveSubjectName(subject: SelectedSubject): string {\n  const db = getDb();\n  if (subject.type === 'USER') {\n    const row = db.prepare('SELECT name FROM users WHERE id = ?').get(subject.id);\n    return row?.name ?? subject.label;\n  }\n  if (subject.type === 'GROUP') {\n    const row = db.prepare('SELECT name FROM groups WHERE id = ?').get(subject.id);\n    return row?.name ?? subject.label;\n  }\n  const row = db.prepare('SELECT name FROM service_accounts WHERE id = ?').get(subject.id);\n  return row?.name ?? subject.label;\n}\n\nexport function createAccessRule(resourceId: string, subjects: SelectedSubject[], effect: 'ALLOW' | 'DENY'): void {\n  const db = getDb();\n  const insertStmt = db.prepare(\n    `INSERT INTO access_rules (id, resource_id, subject_id, subject_type, subject_name, effect, created_at)\n     VALUES (?, ?, ?, ?, ?, ?, ?)`\n  );\n  const tx = db.transaction(() => {\n    subjects.forEach((subject) => {\n      const subjectName = resolveSubjectName(subject);\n      insertStmt.run(\n        `rule_${Date.now()}_${subject.id}`,\n        resourceId,\n        subject.id,\n        subject.type,\n        subjectName,\n        effect,\n        new Date().toISOString().split('T')[0]\n      );\n    });\n  });\n  tx();\n}\n\nexport function deleteAccessRule(ruleId: string): void {\n  const db = getDb();\n  db.prepare('DELETE FROM access_rules WHERE id = ?').run(ruleId);\n}\n\nexport function listSubjects(type?: SubjectType): Subject[] {\n  const db = getDb();\n  const subjects: Subject[] = [];\n\n  if (!type || type === 'USER') {\n    const rows = db.prepare('SELECT * FROM users ORDER BY name ASC').all();\n    subjects.push(...rows.map((row: any) => ({\n      id: row.id,\n      name: row.name,\n      type: 'USER',\n      displayLabel: `User: ${row.name}`,\n    })));\n  }\n\n  if (!type || type === 'GROUP') {\n    const rows = db.prepare('SELECT * FROM groups ORDER BY name ASC').all();\n    subjects.push(...rows.map((row: any) => ({\n      id: row.id,\n      name: row.name,\n      type: 'GROUP',\n      displayLabel: `Group: ${row.name}`,\n    })));\n  }\n\n  if (!type || type === 'SERVICE') {\n    const rows = db.prepare('SELECT * FROM service_accounts ORDER BY name ASC').all();\n    subjects.push(...rows.map((row: any) => ({\n      id: row.id,\n      name: row.name,\n      type: 'SERVICE',\n      displayLabel: `Service: ${row.name}`,\n    })));\n  }\n\n  return subjects;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///home/inkyank-01/Downloads/group-management-ui/app/api/groups/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { addGroup, listGroups } from '@/lib/data';\n\nexport const runtime = 'nodejs';\n\nexport async function GET() {\n  const groups = listGroups();\n  return NextResponse.json(groups);\n}\n\nexport async function POST(req: Request) {\n  const body = await req.json();\n  if (!body?.name || !body?.description) {\n    return NextResponse.json({ error: 'name and description are required' }, { status: 400 });\n  }\n  addGroup({ name: body.name, description: body.description });\n  return NextResponse.json({ ok: true });\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe;IACpB,MAAM,SAAS,IAAA,2HAAU;IACzB,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,aAAa;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAoC,GAAG;YAAE,QAAQ;QAAI;IACzF;IACA,IAAA,yHAAQ,EAAC;QAAE,MAAM,KAAK,IAAI;QAAE,aAAa,KAAK,WAAW;IAAC;IAC1D,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,IAAI;IAAK;AACtC"}}]
}